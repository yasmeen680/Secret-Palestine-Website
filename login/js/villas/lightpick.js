!function(a,c){var b;"function"==typeof define&&define.amd?define(["moment"],c):"object"==typeof module&&module.exports?(b="undefined"!=typeof window&&void 0!==window.moment?window.moment:require("moment"),module.exports=c(b)):a.Lightpick=c(a.moment)}(this,function(o){function h(a){return'<div class="lightpick__toolbar"><button type="button" class="lightpick__previous-action">'+a.locale.buttons.prev+'</button><button type="button" class="lightpick__next-action">'+a.locale.buttons.next+"</button>"+(a.autoclose||a.inline?"":'<button type="button" class="lightpick__close-action">'+a.locale.buttons.close+"</button>")+"</div>"}function n(a,i,f){return new Date(1970,0,i,12,0,0,0).toLocaleString(a.lang,{weekday:f||a.weekdayStyle})}function c(y,w,z,v){if(z){return"<div></div>"}var w=o(w),x=o(w).subtract(1,"month"),z=o(w).add(1,"month"),q={time:o(w).valueOf(),className:["lightpick__day","is-available"]};if(v instanceof Array||"[object Array]"===Object.prototype.toString.call(v)?(v=v.filter(function(a){return 0<=["lightpick__day","is-available","is-previous-month","is-next-month"].indexOf(a)}),q.className=q.className.concat(v)):q.className.push(v),y.disableDates){for(var m,u,f=0;f<y.disableDates.length;f++){y.disableDates[f] instanceof Array||"[object Array]"===Object.prototype.toString.call(y.disableDates[f])?(m=o(y.disableDates[f][0],y.format),u=o(y.disableDates[f][1],y.format),m.isValid()&&u.isValid()&&w.isBetween(m,u,"day","[]")&&q.className.push("is-disabled")):o(y.disableDates[f],y.format).isValid()&&o(y.disableDates[f],y.format).isSame(w,"day")&&q.className.push("is-disabled"),0<=q.className.indexOf("is-disabled")&&(y.locale.tooltipOnDisabled&&(!y.startDate||w.isAfter(y.startDate)||y.startDate&&y.endDate)&&q.className.push("disabled-tooltip"),0<=q.className.indexOf("is-start-date")?(this.setStartDate(null),this.setEndDate(null)):0<=q.className.indexOf("is-end-date")&&this.setEndDate(null))}}return y.minDays&&y.startDate&&!y.endDate&&w.isBetween(o(y.startDate).subtract(y.minDays-1,"day"),o(y.startDate).add(y.minDays-1,"day"),"day")&&(q.className.push("is-disabled"),y.selectForward&&w.isSameOrAfter(y.startDate)&&(q.className.push("is-forward-selected"),q.className.push("is-in-range"))),y.maxDays&&y.startDate&&!y.endDate&&(w.isSameOrBefore(o(y.startDate).subtract(y.maxDays,"day"),"day")||w.isSameOrAfter(o(y.startDate).add(y.maxDays,"day"),"day"))&&q.className.push("is-disabled"),y.repick&&(y.minDays||y.maxDays)&&y.startDate&&y.endDate&&(v=o(y.repickTrigger==y.field?y.endDate:y.startDate),y.minDays&&w.isBetween(o(v).subtract(y.minDays-1,"day"),o(v).add(y.minDays-1,"day"),"day")&&q.className.push("is-disabled"),y.maxDays&&(w.isSameOrBefore(o(v).subtract(y.maxDays,"day"),"day")||w.isSameOrAfter(o(v).add(y.maxDays,"day"),"day"))&&q.className.push("is-disabled")),w.isSame(new Date,"day")&&q.className.push("is-today"),w.isSame(y.startDate,"day")&&q.className.push("is-start-date"),w.isSame(y.endDate,"day")&&q.className.push("is-end-date"),y.startDate&&y.endDate&&w.isBetween(y.startDate,y.endDate,"day","[]")&&q.className.push("is-in-range"),o().isSame(w,"month")||(x.isSame(w,"month")?q.className.push("is-previous-month"):z.isSame(w,"month")&&q.className.push("is-next-month")),y.minDate&&w.isBefore(y.minDate,"day")&&q.className.push("is-disabled"),y.maxDate&&w.isAfter(y.maxDate,"day")&&q.className.push("is-disabled"),y.selectForward&&!y.singleDate&&y.startDate&&!y.endDate&&w.isBefore(y.startDate,"day")&&q.className.push("is-disabled"),y.selectBackward&&!y.singleDate&&y.startDate&&!y.endDate&&w.isAfter(y.startDate,"day")&&q.className.push("is-disabled"),!y.disableWeekends||6!=w.isoWeekday()&&7!=w.isoWeekday()||q.className.push("is-disabled"),q.className=q.className.filter(function(a,l,i){return i.indexOf(a)===l}),0<=q.className.indexOf("is-disabled")&&0<=q.className.indexOf("is-available")&&q.className.splice(q.className.indexOf("is-available"),1),(z=b.createElement("div")).className=q.className.join(" "),z.innerHTML=w.get("date"),z.setAttribute("data-time",q.time),z.outerHTML}function j(C,y){for(var D="",w=o(y.calendar[0]),B=0;B<y.numberOfMonths;B++){var u=o(w);D+='<section class="lightpick__month">',D+='<header class="lightpick__month-title-bar">',D+='<div class="lightpick__month-title">'+function(E,G){for(var F=o(E),r=b.createElement("select"),l=0;l<12;l++){F.set("month",l);var H=b.createElement("option");H.value=F.toDate().getMonth(),H.text=F.toDate().toLocaleString(G.lang,{month:"long"}),l===E.toDate().getMonth()&&H.setAttribute("selected","selected"),r.appendChild(H)}return r.className="lightpick__select lightpick__select-months",r.dir="rtl",G.dropdowns&&G.dropdowns.months||(r.disabled=!0),r.outerHTML}(u,y)+function(L,J){var M=o(L),I=b.createElement("select"),K=J.dropdowns&&J.dropdowns.years?J.dropdowns.years:null,G=K&&K.min?K.min:1900,F=K&&K.max?K.max:Number.parseInt(o().format("YYYY"));Number.parseInt(L.format("YYYY"))<G&&(G=Number.parseInt(L.format("YYYY"))),Number.parseInt(L.format("YYYY"))>F&&(F=Number.parseInt(L.format("YYYY")));for(var H=G;H<=F;H++){M.set("year",H);var E=b.createElement("option");E.value=M.toDate().getFullYear(),E.text=M.toDate().getFullYear(),H===L.toDate().getFullYear()&&E.setAttribute("selected","selected"),I.appendChild(E)}return I.className="lightpick__select lightpick__select-years",J.dropdowns&&J.dropdowns.years||(I.disabled=!0),I.outerHTML}(u,y)+"</div>",1===y.numberOfMonths&&(D+=h(y)),D+="</header>",D+='<div class="lightpick__days-of-the-week">';for(var q=y.firstDay+4;q<7+y.firstDay+4;++q){D+='<div class="lightpick__day-of-the-week" title="'+n(y,q,"long")+'">'+n(y,q)+"</div>"}if(D+="</div>",D+='<div class="lightpick__days">',u.isoWeekday()!==y.firstDay){for(var v=0<u.isoWeekday()-y.firstDay?u.isoWeekday()-y.firstDay:u.isoWeekday(),f=o(u).subtract(v,"day"),z=f.daysInMonth(),A=f.get("date");A<=z;A++){D+=c(y,f,0<B,"is-previous-month"),f.add(1,"day")}}for(z=u.daysInMonth(),A=(new Date,0);A<z;A++){D+=c(y,u),u.add(1,"day")}var x=o(u),m=7-x.isoWeekday()+y.firstDay;if(m<7){for(A=x.get("date");A<=m;A++){D+=c(y,x,B<y.numberOfMonths-1,"is-next-month"),x.add(1,"day")}}D+="</div>",D+="</section>",w.add(1,"month")}y.calendar[1]=o(w),C.querySelector(".lightpick__months").innerHTML=D}function d(a,i){var f=a.querySelectorAll(".lightpick__day");[].forEach.call(f,function(e){e.outerHTML=c(i,parseInt(e.getAttribute("data-time")),!1,e.className.split(" "))}),k(a,i)}function p(a){var f=this,e=f.config(a);f.el=b.createElement("section"),f.el.className="lightpick lightpick--"+e.numberOfColumns+"-columns is-hidden",e.inline&&(f.el.className+=" lightpick--inlined"),a='<div class="lightpick__inner">'+(1<e.numberOfMonths?h(e):"")+'<div class="lightpick__months"></div><div class="lightpick__tooltip" style="visibility: hidden"></div>',e.footer&&(a+='<div class="lightpick__footer">',!0===e.footer?(a+='<button type="button" class="lightpick__reset-action">'+e.locale.buttons.reset+"</button>",a+='<div class="lightpick__footer-message"></div>',a+='<button type="button" class="lightpick__apply-action">'+e.locale.buttons.apply+"</button>"):a+=e.footer,a+="</div>"),a+="</div>",f.el.innerHTML=a,(e.parentEl instanceof Node?e.parentEl:"body"===e.parentEl&&e.inline?e.field.parentNode:b.querySelector(e.parentEl)).appendChild(f.el),f._onMouseDown=function(q){if(f.isShowing){var u=(q=q||window.event).target||q.srcElement;if(u){q.stopPropagation(),u.classList.contains("lightpick__select")||q.preventDefault();var r=f._opts;if(u.classList.contains("lightpick__day")&&u.classList.contains("is-available")){var m,q=o(parseInt(u.getAttribute("data-time")));if(!r.disabledDatesInRange&&r.disableDates&&r.startDate){var l=q.isAfter(r.startDate)?o(r.startDate):o(q),v=q.isAfter(r.startDate)?o(q):o(r.startDate);if(r.disableDates.filter(function(i){if(i instanceof Array||"[object Array]"===Object.prototype.toString.call(i)){var x=o(i[0]),w=o(i[1]);return x.isValid()&&w.isValid()&&(x.isBetween(l,v,"day","[]")||w.isBetween(l,v,"day","[]"))}return o(i).isBetween(l,v,"day","[]")}).length){return f.setStartDate(null),f.setEndDate(null),u.dispatchEvent(new Event("mousedown")),f.el.querySelector(".lightpick__tooltip").style.visibility="hidden",void d(f.el,r)}}r.singleDate||!r.startDate&&!r.endDate||r.startDate&&r.endDate?r.repick&&r.startDate&&r.endDate?(r.repickTrigger===r.field?(f.setStartDate(q),u.classList.add("is-start-date")):(f.setEndDate(q),u.classList.add("is-end-date")),r.startDate.isAfter(r.endDate)&&f.swapDate(),r.autoclose&&setTimeout(function(){f.hide()},100)):(f.setStartDate(q),f.setEndDate(null),u.classList.add("is-start-date"),r.singleDate&&r.autoclose?setTimeout(function(){f.hide()},100):r.singleDate&&!r.inline&&r.autoclose||d(f.el,r)):r.startDate&&!r.endDate&&(f.setEndDate(q),r.startDate.isAfter(r.endDate)&&f.swapDate(),u.classList.add("is-end-date"),r.autoclose?setTimeout(function(){f.hide()},100):d(f.el,r)),r.disabledDatesInRange||0===f.el.querySelectorAll(".lightpick__day.is-available").length&&(f.setStartDate(null),d(f.el,r),r.footer&&("function"==typeof f._opts.onError?f._opts.onError.call(f,"Invalid range"):(m=f.el.querySelector(".lightpick__footer-message"))&&(m.innerHTML=r.locale.not_allowed_range,setTimeout(function(){m.innerHTML=""},3000))))}else{u.classList.contains("lightpick__previous-action")?f.prevMonth():u.classList.contains("lightpick__next-action")?f.nextMonth():u.classList.contains("lightpick__close-action")||u.classList.contains("lightpick__apply-action")?f.hide():u.classList.contains("lightpick__reset-action")&&f.reset()}}}},f._onMouseEnter=function(q){var u,r,m,l,v;!f.isShowing||(u=(q=q||window.event).target||q.srcElement)&&(r=f._opts,u.classList.contains("lightpick__day")&&u.classList.contains("disabled-tooltip")&&r.locale.tooltipOnDisabled?f.showTooltip(u,r.locale.tooltipOnDisabled):(f.hideTooltip(),r.singleDate||!r.startDate&&!r.endDate||(u.classList.contains("lightpick__day")||u.classList.contains("is-available"))&&(!(r.startDate&&!r.endDate||r.repick)||(m=o(parseInt(u.getAttribute("data-time")))).isValid()&&(l=r.startDate&&!r.endDate||r.repick&&r.repickTrigger===r.secondField?r.startDate:r.endDate,v=f.el.querySelectorAll(".lightpick__day"),[].forEach.call(v,function(i){var s=o(parseInt(i.getAttribute("data-time")));i.classList.remove("is-flipped"),s.isValid()&&s.isSameOrAfter(l,"day")&&s.isSameOrBefore(m,"day")?(i.classList.add("is-in-range"),r.repickTrigger===r.field&&s.isSameOrAfter(r.endDate)&&i.classList.add("is-flipped")):s.isValid()&&s.isSameOrAfter(m,"day")&&s.isSameOrBefore(l,"day")?(i.classList.add("is-in-range"),(r.startDate&&!r.endDate||r.repickTrigger===r.secondField)&&s.isSameOrBefore(r.startDate)&&i.classList.add("is-flipped")):i.classList.remove("is-in-range"),r.startDate&&r.endDate&&r.repick&&r.repickTrigger===r.field?i.classList.remove("is-start-date"):i.classList.remove("is-end-date")}),r.hoveringTooltip&&(v=Math.abs(m.isAfter(l)?m.diff(l,"day"):l.diff(m,"day")),r.tooltipNights||(v+=1),f.el.querySelector(".lightpick__tooltip"),0<v&&!u.classList.contains("is-disabled")?(q="","function"==typeof r.locale.pluralize&&(q=r.locale.pluralize.call(f,v,r.locale.tooltip)),f.showTooltip(u,v+" "+q)):f.hideTooltip()),r.startDate&&r.endDate&&r.repick&&r.repickTrigger===r.field?u.classList.add("is-start-date"):u.classList.add("is-end-date")))))},f._onChange=function(i){i=(i=i||window.event).target||i.srcElement;i&&(i.classList.contains("lightpick__select-months")?("function"==typeof f._opts.onMonthsChange&&f._opts.onMonthsChange.call(this,i.value),f.gotoMonth(i.value)):i.classList.contains("lightpick__select-years")&&("function"==typeof f._opts.onYearsChange&&f._opts.onYearsChange.call(this,i.value),f.gotoYear(i.value)))},f._onInputChange=function(i){i.target||i.srcElement;f._opts.singleDate&&(f._opts.autoclose||f.gotoDate(e.field.value)),f.syncFields(),f.isShowing||f.show()},f._onInputFocus=function(i){i=i.target||i.srcElement;f.show(i)},f._onInputClick=function(i){i=i.target||i.srcElement;f.show(i)},f._onClick=function(i){var i=(i=i||window.event).target||i.srcElement,l=i;if(i){do{if(l.classList&&l.classList.contains("lightpick")||l===e.field||e.secondField&&l===e.secondField){return}}while(l=l.parentNode);f.isShowing&&e.hideOnBodyClick&&i!==e.field&&l!==e.field&&f.hide()}},f.showTooltip=function(q,u){var r=f.el.querySelector(".lightpick__tooltip"),m=f.el.classList.contains("lightpick--inlined"),q=q.getBoundingClientRect(),m=(m?f.el.parentNode:f.el).getBoundingClientRect(),l=q.left-m.left+q.width/2,v=q.top-m.top;r.style.visibility="visible",r.textContent=u;u=r.getBoundingClientRect();v-=u.height,l-=u.width/2,setTimeout(function(){r.style.top=v+"px",r.style.left=l+"px"},10)},f.hideTooltip=function(){f.el.querySelector(".lightpick__tooltip").style.visibility="hidden"},f.el.addEventListener("mousedown",f._onMouseDown,!0),f.el.addEventListener("mouseenter",f._onMouseEnter,!0),f.el.addEventListener("touchend",f._onMouseDown,!0),f.el.addEventListener("change",f._onChange,!0),e.inline?f.show():f.hide(),e.field.addEventListener("change",f._onInputChange),e.field.addEventListener("click",f._onInputClick),e.field.addEventListener("focus",f._onInputFocus),e.secondField&&(e.secondField.addEventListener("change",f._onInputChange),e.secondField.addEventListener("click",f._onInputClick),e.secondField.addEventListener("focus",f._onInputFocus))}var b=window.document,g={field:null,secondField:null,firstDay:1,parentEl:"body",lang:"auto",format:"DD/MM/YYYY",separator:" - ",numberOfMonths:1,numberOfColumns:2,singleDate:!0,autoclose:!0,repick:!1,startDate:null,endDate:null,minDate:null,maxDate:null,disableDates:null,selectForward:!1,selectBackward:!1,minDays:null,maxDays:null,hoveringTooltip:!0,hideOnBodyClick:!0,footer:!1,disabledDatesInRange:!0,tooltipNights:!1,orientation:"auto",disableWeekends:!1,inline:!1,weekdayStyle:"short",dropdowns:{years:{min:1900,max:null},months:!0},locale:{buttons:{prev:"&leftarrow;",next:"&rightarrow;",close:"&times;",reset:"Reset",apply:"Apply"},tooltip:{one:"day",other:"days"},tooltipOnDisabled:null,pluralize:function(a,f){return"string"==typeof a&&(a=parseInt(a,10)),1===a&&"one" in f?f.one:"other" in f?f.other:""}},onSelect:null,onSelectStart:null,onSelectEnd:null,onOpen:null,onClose:null,onError:null,onMonthsChange:null,onYearsChange:null},k=function(m,q){var r,l,f;!q.disabledDatesInRange&&q.startDate&&!q.endDate&&q.disableDates&&(r=m.querySelectorAll(".lightpick__day"),m=q.disableDates.map(function(a){return a instanceof Array||"[object Array]"===Object.prototype.toString.call(a)?a[0]:a}),l=o(m.filter(function(a){return o(a).isBefore(q.startDate)}).sort(function(a,i){return o(i).isAfter(o(a))})[0]),f=o(m.filter(function(a){return o(a).isAfter(q.startDate)}).sort(function(a,i){return o(a).isAfter(o(i))})[0]),[].forEach.call(r,function(a){var i=o(parseInt(a.getAttribute("data-time")));(l&&i.isBefore(l)&&q.startDate.isAfter(l)||f&&i.isAfter(f)&&f.isAfter(q.startDate))&&(a.classList.remove("is-available"),a.classList.add("is-disabled"))}))};return p.prototype={config:function(a){var i,f=Object.assign({},g,a);return f.field=f.field&&f.field.nodeName?f.field:null,f.calendar=[o().set("date",1)],1===f.numberOfMonths&&1<f.numberOfColumns&&(f.numberOfColumns=1),f.minDate=f.minDate&&o(f.minDate,f.format).isValid()?o(f.minDate,f.format):null,f.maxDate=f.maxDate&&o(f.maxDate,f.format).isValid()?o(f.maxDate,f.format):null,"auto"===f.lang&&(i=navigator.language||navigator.userLanguage,f.lang=i||"en-US"),f.secondField&&f.singleDate&&(f.singleDate=!1),f.hoveringTooltip&&f.singleDate&&(f.hoveringTooltip=!1),"[object Object]"===Object.prototype.toString.call(a.locale)&&(f.locale=Object.assign({},g.locale,a.locale)),window.innerWidth<480&&1<f.numberOfMonths&&(f.numberOfMonths=1,f.numberOfColumns=1),f.repick&&!f.secondField&&(f.repick=!1),f.inline&&(f.autoclose=!1,f.hideOnBodyClick=!1),this._opts=Object.assign({},f),this.syncFields(),this.setStartDate(this._opts.startDate,!0),this.setEndDate(this._opts.endDate,!0),this._opts},syncFields:function(){var a;this._opts.singleDate||this._opts.secondField?(o(this._opts.field.value,this._opts.format).isValid()&&(this._opts.startDate=o(this._opts.field.value,this._opts.format)),this._opts.secondField&&o(this._opts.secondField.value,this._opts.format).isValid()&&(this._opts.endDate=o(this._opts.secondField.value,this._opts.format))):2===(a=this._opts.field.value.split(this._opts.separator)).length&&(o(a[0],this._opts.format).isValid()&&(this._opts.startDate=o(a[0],this._opts.format)),o(a[1],this._opts.format).isValid()&&(this._opts.endDate=o(a[1],this._opts.format)))},swapDate:function(){var a=o(this._opts.startDate);this.setDateRange(this._opts.endDate,a)},gotoToday:function(){this.gotoDate(new Date)},gotoDate:function(a){(a=o(a,this._opts.format)).isValid()||(a=o()),a.set("date",1),this._opts.calendar=[o(a)],j(this.el,this._opts)},gotoMonth:function(a){isNaN(a)||(this._opts.calendar[0].set("month",a),j(this.el,this._opts))},gotoYear:function(a){isNaN(a)||(this._opts.calendar[0].set("year",a),j(this.el,this._opts))},prevMonth:function(){this._opts.calendar[0]=o(this._opts.calendar[0]).subtract(this._opts.numberOfMonths,"month"),j(this.el,this._opts),k(this.el,this._opts)},nextMonth:function(){this._opts.calendar[0]=o(this._opts.calendar[1]),j(this.el,this._opts),k(this.el,this._opts)},updatePosition:function(){var m,r,q,l,f;this.el.classList.contains("lightpick--inlined")||(this.el.classList.remove("is-hidden"),m=this._opts.field.getBoundingClientRect(),r=this.el.getBoundingClientRect(),"auto"!=(q=this._opts.orientation.split(" "))[f=l=0]&&/top|bottom/.test(q[0])?(l=m[q[0]]+window.pageYOffset,"top"==q[0]&&(l-=r.height)):l=m.bottom+r.height>window.innerHeight&&window.pageYOffset>r.height?m.top+window.pageYOffset-r.height:m.bottom+window.pageYOffset,/left|right/.test(q[0])||q[1]&&"auto"!=q[1]&&/left|right/.test(q[1])?(f=/left|right/.test(q[0])?m[q[0]]+window.pageXOffset:m[q[1]]+window.pageXOffset,"right"!=q[0]&&"right"!=q[1]||(f-=r.width)):f=m.left+r.width>window.innerWidth?m.right+window.pageXOffset-r.width:m.left+window.pageXOffset,this.el.classList.add("is-hidden"),this.el.style.top=l+"px",this.el.style.left=f+"px")},setStartDate:function(a,i){var f=o(a,o.ISO_8601),a=o(a,this._opts.format);if(!f.isValid()&&!a.isValid()){return this._opts.startDate=null,void (this._opts.field.value="")}this._opts.startDate=o(f.isValid()?f:a),this._opts.singleDate||this._opts.secondField?this._opts.field.value=this._opts.startDate.format(this._opts.format):this._opts.field.value=this._opts.startDate.format(this._opts.format)+this._opts.separator+"...",i||"function"!=typeof this._opts.onSelect||this._opts.onSelect.call(this,this.getStartDate(),this.getEndDate()),i||this._opts.singleDate||"function"!=typeof this._opts.onSelectStart||this._opts.onSelectStart.call(this,this.getStartDate())},setEndDate:function(a,i){var f=o(a,o.ISO_8601),a=o(a,this._opts.format);if(!f.isValid()&&!a.isValid()){return this._opts.endDate=null,void (this._opts.secondField?this._opts.secondField.value="":!this._opts.singleDate&&this._opts.startDate&&(this._opts.field.value=this._opts.startDate.format(this._opts.format)+this._opts.separator+"..."))}this._opts.endDate=o(f.isValid()?f:a),this._opts.secondField?(this._opts.field.value=this._opts.startDate.format(this._opts.format),this._opts.secondField.value=this._opts.endDate.format(this._opts.format)):this._opts.field.value=this._opts.startDate.format(this._opts.format)+this._opts.separator+this._opts.endDate.format(this._opts.format),i||"function"!=typeof this._opts.onSelect||this._opts.onSelect.call(this,this.getStartDate(),this.getEndDate()),i||this._opts.singleDate||"function"!=typeof this._opts.onSelectEnd||this._opts.onSelectEnd.call(this,this.getEndDate())},setDate:function(a,f){this._opts.singleDate&&(this.setStartDate(a,f),this.isShowing&&d(this.el,this._opts))},setDateRange:function(a,i,f){this._opts.singleDate||(this.setStartDate(a,!0),this.setEndDate(i,!0),this.isShowing&&d(this.el,this._opts),f||"function"!=typeof this._opts.onSelect||this._opts.onSelect.call(this,this.getStartDate(),this.getEndDate()))},setDisableDates:function(a){this._opts.disableDates=a,this.isShowing&&d(this.el,this._opts)},getStartDate:function(){return o(this._opts.startDate).isValid()?this._opts.startDate.clone():null},getEndDate:function(){return o(this._opts.endDate).isValid()?this._opts.endDate.clone():null},getDate:function(){return o(this._opts.startDate).isValid()?this._opts.startDate.clone():null},toString:function(a){return this._opts.singleDate?o(this._opts.startDate).isValid()?this._opts.startDate.format(a):"":o(this._opts.startDate).isValid()&&o(this._opts.endDate).isValid()?this._opts.startDate.format(a)+this._opts.separator+this._opts.endDate.format(a):o(this._opts.startDate).isValid()&&!o(this._opts.endDate).isValid()?this._opts.startDate.format(a)+this._opts.separator+"...":!o(this._opts.startDate).isValid()&&o(this._opts.endDate).isValid()?"..."+this._opts.separator+this._opts.endDate.format(a):""},show:function(a){this.isShowing||(this.isShowing=!0,this._opts.repick&&(this._opts.repickTrigger=a),this.syncFields(),this._opts.secondField&&this._opts.secondField===a&&this._opts.endDate?this.gotoDate(this._opts.endDate):this.gotoDate(this._opts.startDate),b.addEventListener("click",this._onClick),this.updatePosition(),this.el.classList.remove("is-hidden"),"function"==typeof this._opts.onOpen&&this._opts.onOpen.call(this),b.activeElement&&b.activeElement!=b.body&&b.activeElement.blur())},hide:function(){this.isShowing&&(this.isShowing=!1,b.removeEventListener("click",this._onClick),this.el.classList.add("is-hidden"),this.el.querySelector(".lightpick__tooltip").style.visibility="hidden","function"==typeof this._opts.onClose&&this._opts.onClose.call(this))},destroy:function(){var a=this._opts;this.hide(),this.el.removeEventListener("mousedown",self._onMouseDown,!0),this.el.removeEventListener("mouseenter",self._onMouseEnter,!0),this.el.removeEventListener("touchend",self._onMouseDown,!0),this.el.removeEventListener("change",self._onChange,!0),a.field.removeEventListener("change",this._onInputChange),a.field.removeEventListener("click",this._onInputClick),a.field.removeEventListener("focus",this._onInputFocus),a.secondField&&(a.secondField.removeEventListener("change",this._onInputChange),a.secondField.removeEventListener("click",this._onInputClick),a.secondField.removeEventListener("focus",this._onInputFocus)),this.el.parentNode&&this.el.parentNode.removeChild(this.el)},reset:function(){this.setStartDate(null,!0),this.setEndDate(null,!0),d(this.el,this._opts),"function"==typeof this._opts.onSelect&&this._opts.onSelect.call(this,this.getStartDate(),this.getEndDate()),this.el.querySelector(".lightpick__tooltip").style.visibility="hidden"},reloadOptions:function(a){var i=this._opts.dropdowns,f=this._opts.locale;Object.assign(this._opts,this._opts,a),Object.assign(this._opts.dropdowns,i,a.dropdowns),Object.assign(this._opts.locale,f,a.locale)}},p});